/**
 *                                  Apache License
 *                            Version 2.0, January 2004
 *                         http://www.apache.org/licenses/
 *
 *    TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION
 *
 *    1. Definitions.
 *
 *       "License" shall mean the terms and conditions for use, reproduction,
 *       and distribution as defined by Sections 1 through 9 of this document.
 *
 *       "Licensor" shall mean the copyright owner or entity authorized by
 *       the copyright owner that is granting the License.
 *
 *       "Legal Entity" shall mean the union of the acting entity and all
 *       other entities that control, are controlled by, or are under common
 *       control with that entity. For the purposes of this definition,
 *       "control" means (i) the power, direct or indirect, to cause the
 *       direction or management of such entity, whether by contract or
 *       otherwise, or (ii) ownership of fifty percent (50%) or more of the
 *       outstanding shares, or (iii) beneficial ownership of such entity.
 *
 *       "You" (or "Your") shall mean an individual or Legal Entity
 *       exercising permissions granted by this License.
 *
 *       "Source" form shall mean the preferred form for making modifications,
 *       including but not limited to software source code, documentation
 *       source, and configuration files.
 *
 *       "Object" form shall mean any form resulting from mechanical
 *       transformation or translation of a Source form, including but
 *       not limited to compiled object code, generated documentation,
 *       and conversions to other media types.
 *
 *       "Work" shall mean the work of authorship, whether in Source or
 *       Object form, made available under the License, as indicated by a
 *       copyright notice that is included in or attached to the work
 *       (an example is provided in the Appendix below).
 *
 *       "Derivative Works" shall mean any work, whether in Source or Object
 *       form, that is based on (or derived from) the Work and for which the
 *       editorial revisions, annotations, elaborations, or other modifications
 *       represent, as a whole, an original work of authorship. For the purposes
 *       of this License, Derivative Works shall not include works that remain
 *       separable from, or merely link (or bind by name) to the interfaces of,
 *       the Work and Derivative Works thereof.
 *
 *       "Contribution" shall mean any work of authorship, including
 *       the original version of the Work and any modifications or additions
 *       to that Work or Derivative Works thereof, that is intentionally
 *       submitted to Licensor for inclusion in the Work by the copyright owner
 *       or by an individual or Legal Entity authorized to submit on behalf of
 *       the copyright owner. For the purposes of this definition, "submitted"
 *       means any form of electronic, verbal, or written communication sent
 *       to the Licensor or its representatives, including but not limited to
 *       communication on electronic mailing lists, source code control systems,
 *       and issue tracking systems that are managed by, or on behalf of, the
 *       Licensor for the purpose of discussing and improving the Work, but
 *       excluding communication that is conspicuously marked or otherwise
 *       designated in writing by the copyright owner as "Not a Contribution."
 *
 *       "Contributor" shall mean Licensor and any individual or Legal Entity
 *       on behalf of whom a Contribution has been received by Licensor and
 *       subsequently incorporated within the Work.
 *
 *    2. Grant of Copyright License. Subject to the terms and conditions of
 *       this License, each Contributor hereby grants to You a perpetual,
 *       worldwide, non-exclusive, no-charge, royalty-free, irrevocable
 *       copyright license to reproduce, prepare Derivative Works of,
 *       publicly display, publicly perform, sublicense, and distribute the
 *       Work and such Derivative Works in Source or Object form.
 *
 *    3. Grant of Patent License. Subject to the terms and conditions of
 *       this License, each Contributor hereby grants to You a perpetual,
 *       worldwide, non-exclusive, no-charge, royalty-free, irrevocable
 *       (except as stated in this section) patent license to make, have made,
 *       use, offer to sell, sell, import, and otherwise transfer the Work,
 *       where such license applies only to those patent claims licensable
 *       by such Contributor that are necessarily infringed by their
 *       Contribution(s) alone or by combination of their Contribution(s)
 *       with the Work to which such Contribution(s) was submitted. If You
 *       institute patent litigation against any entity (including a
 *       cross-claim or counterclaim in a lawsuit) alleging that the Work
 *       or a Contribution incorporated within the Work constitutes direct
 *       or contributory patent infringement, then any patent licenses
 *       granted to You under this License for that Work shall terminate
 *       as of the date such litigation is filed.
 *
 *    4. Redistribution. You may reproduce and distribute copies of the
 *       Work or Derivative Works thereof in any medium, with or without
 *       modifications, and in Source or Object form, provided that You
 *       meet the following conditions:
 *
 *       (a) You must give any other recipients of the Work or
 *           Derivative Works a copy of this License; and
 *
 *       (b) You must cause any modified files to carry prominent notices
 *           stating that You changed the files; and
 *
 *       (c) You must retain, in the Source form of any Derivative Works
 *           that You distribute, all copyright, patent, trademark, and
 *           attribution notices from the Source form of the Work,
 *           excluding those notices that do not pertain to any part of
 *           the Derivative Works; and
 *
 *       (d) If the Work includes a "NOTICE" text file as part of its
 *           distribution, then any Derivative Works that You distribute must
 *           include a readable copy of the attribution notices contained
 *           within such NOTICE file, excluding those notices that do not
 *           pertain to any part of the Derivative Works, in at least one
 *           of the following places: within a NOTICE text file distributed
 *           as part of the Derivative Works; within the Source form or
 *           documentation, if provided along with the Derivative Works; or,
 *           within a display generated by the Derivative Works, if and
 *           wherever such third-party notices normally appear. The contents
 *           of the NOTICE file are for informational purposes only and
 *           do not modify the License. You may add Your own attribution
 *           notices within Derivative Works that You distribute, alongside
 *           or as an addendum to the NOTICE text from the Work, provided
 *           that such additional attribution notices cannot be construed
 *           as modifying the License.
 *
 *       You may add Your own copyright statement to Your modifications and
 *       may provide additional or different license terms and conditions
 *       for use, reproduction, or distribution of Your modifications, or
 *       for any such Derivative Works as a whole, provided Your use,
 *       reproduction, and distribution of the Work otherwise complies with
 *       the conditions stated in this License.
 *
 *    5. Submission of Contributions. Unless You explicitly state otherwise,
 *       any Contribution intentionally submitted for inclusion in the Work
 *       by You to the Licensor shall be under the terms and conditions of
 *       this License, without any additional terms or conditions.
 *       Notwithstanding the above, nothing herein shall supersede or modify
 *       the terms of any separate license agreement you may have executed
 *       with Licensor regarding such Contributions.
 *
 *    6. Trademarks. This License does not grant permission to use the trade
 *       names, trademarks, service marks, or product names of the Licensor,
 *       except as required for reasonable and customary use in describing the
 *       origin of the Work and reproducing the content of the NOTICE file.
 *
 *    7. Disclaimer of Warranty. Unless required by applicable law or
 *       agreed to in writing, Licensor provides the Work (and each
 *       Contributor provides its Contributions) on an "AS IS" BASIS,
 *       WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
 *       implied, including, without limitation, any warranties or conditions
 *       of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
 *       PARTICULAR PURPOSE. You are solely responsible for determining the
 *       appropriateness of using or redistributing the Work and assume any
 *       risks associated with Your exercise of permissions under this License.
 *
 *    8. Limitation of Liability. In no event and under no legal theory,
 *       whether in tort (including negligence), contract, or otherwise,
 *       unless required by applicable law (such as deliberate and grossly
 *       negligent acts) or agreed to in writing, shall any Contributor be
 *       liable to You for damages, including any direct, indirect, special,
 *       incidental, or consequential damages of any character arising as a
 *       result of this License or out of the use or inability to use the
 *       Work (including but not limited to damages for loss of goodwill,
 *       work stoppage, computer failure or malfunction, or any and all
 *       other commercial damages or losses), even if such Contributor
 *       has been advised of the possibility of such damages.
 *
 *    9. Accepting Warranty or Additional Liability. While redistributing
 *       the Work or Derivative Works thereof, You may choose to offer,
 *       and charge a fee for, acceptance of support, warranty, indemnity,
 *       or other liability obligations and/or rights consistent with this
 *       License. However, in accepting such obligations, You may act only
 *       on Your own behalf and on Your sole responsibility, not on behalf
 *       of any other Contributor, and only if You agree to indemnify,
 *       defend, and hold each Contributor harmless for any liability
 *       incurred by, or claims asserted against, such Contributor by reason
 *       of your accepting any such warranty or additional liability.
 *
 *    END OF TERMS AND CONDITIONS
 *
 *    APPENDIX: How to apply the Apache License to your work.
 *
 *       To apply the Apache License to your work, attach the following
 *       boilerplate notice, with the fields enclosed by brackets "[]"
 *       replaced with your own identifying information. (Don't include
 *       the brackets!)  The text should be enclosed in the appropriate
 *       comment syntax for the file format. We also recommend that a
 *       file or class name and description of purpose be included on the
 *       same "printed page" as the copyright notice for easier
 *       identification within third-party archives.
 *
 *    Copyright 2017 Patrik Nygren
 *
 *    Licensed under the Apache License, Version 2.0 (the "License");
 *    you may not use this file except in compliance with the License.
 *    You may obtain a copy of the License at
 *
 *        http://www.apache.org/licenses/LICENSE-2.0
 *
 *    Unless required by applicable law or agreed to in writing, software
 *    distributed under the License is distributed on an "AS IS" BASIS,
 *    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *    See the License for the specific language governing permissions and
 *    limitations under the License.
 */
package org.patriques;

import org.junit.Test;
import org.patriques.input.technicalindicators.*;
import org.patriques.output.technicalindicators.*;
import org.patriques.output.technicalindicators.data.*;

import java.time.LocalDateTime;
import java.util.List;
import java.util.Map;

import static org.hamcrest.CoreMatchers.equalTo;
import static org.hamcrest.CoreMatchers.is;
import static org.hamcrest.MatcherAssert.assertThat;

public class TechnicalIndicatorsTest {

  private TechnicalIndicators technicalIndicators;

  @Test
  public void dema() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Double Exponential Moving Average (DEMA)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-01 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern\"\n" +
            "    },\n" +
            "    \"Technical Analysis: DEMA\": {\n" +
            "        \"2017-12-01 16:00\": {\n" +
            "            \"DEMA\": \"84.0203\"\n" +
            "        },\n" +
            "        \"2017-12-01 15:45\": {\n" +
            "            \"DEMA\": \"83.9763\"\n" +
            "        },\n" +
            "        \"2017-11-17 11:45\": {\n" +
            "            \"DEMA\": \"82.6005\"\n" +
            "        }\n" +
            "    }\n" +
            "}";
    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    DEMA response = technicalIndicators.dema("DUMMY", Interval.FIFTEEN_MIN, TimePeriod.of(10), SeriesType.CLOSE);

    Map<String, String> metaData = response.getMetaData();
    assertThat(metaData.get("1: Symbol"), is(equalTo("DUMMY")));
    assertThat(metaData.get("2: Indicator"), is(equalTo("Double Exponential Moving Average (DEMA)")));
    assertThat(metaData.get("3: Last Refreshed"), is(equalTo("2017-12-01 16:00:00")));
    assertThat(metaData.get("4: Interval"), is(equalTo("15min")));
    assertThat(metaData.get("5: Time Period"), is(equalTo("10")));
    assertThat(metaData.get("6: Series Type"), is(equalTo("close")));
    assertThat(metaData.get("7: Time Zone"), is(equalTo("US/Eastern")));

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(3)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 16, 0))));
    assertThat(data.getData(), is(equalTo(84.0203d)));
  }

  @Test
  public void ema() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Exponential Moving Average (EMA)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-01 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern\"\n" +
            "    },\n" +
            "    \"Technical Analysis: EMA\": {\n" +
            "        \"2017-12-01 16:00\": {\n" +
            "            \"EMA\": \"84.0203\"\n" +
            "        },\n" +
            "        \"2017-12-01 15:45\": {\n" +
            "            \"EMA\": \"83.9763\"\n" +
            "        },\n" +
            "        \"2017-11-17 11:45\": {\n" +
            "            \"EMA\": \"82.6005\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    EMA resp = technicalIndicators.ema("DUMMY", Interval.FIFTEEN_MIN, TimePeriod.of(10), SeriesType.CLOSE);

    Map<String, String> metaData = resp.getMetaData();
    assertThat(metaData.get("1: Symbol"), is(equalTo("DUMMY")));
    assertThat(metaData.get("2: Indicator"), is(equalTo("Exponential Moving Average (EMA)")));
    assertThat(metaData.get("3: Last Refreshed"), is(equalTo("2017-12-01 16:00:00")));
    assertThat(metaData.get("4: Interval"), is(equalTo("15min")));
    assertThat(metaData.get("5: Time Period"), is(equalTo("10")));
    assertThat(metaData.get("6: Series Type"), is(equalTo("close")));
    assertThat(metaData.get("7: Time Zone"), is(equalTo("US/Eastern")));

    List<IndicatorData> indicatorData = resp.getData();
    assertThat(indicatorData.size(), is(equalTo(3)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 16, 0))));
    assertThat(data.getData(), is(equalTo(84.0203d)));
  }

  @Test
  public void kama() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Kaufman Adaptive Moving Average (KAMA)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: KAMA\": {\n" +
            "        \"2017-12-14 16:00\": {\n" +
            "            \"KAMA\": \"84.8376\"\n" +
            "        },\n" +
            "        \"2017-12-14 15:45\": {\n" +
            "            \"KAMA\": \"84.8378\"\n" +
            "        },\n" +
            "        \"2017-11-17 11:45\": {\n" +
            "            \"KAMA\": \"82.6005\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    KAMA resp = technicalIndicators.kama("DUMMY", Interval.FIFTEEN_MIN, TimePeriod.of(10), SeriesType.CLOSE);

    Map<String, String> metaData = resp.getMetaData();
    assertThat(metaData.get("1: Symbol"), is(equalTo("DUMMY")));
    assertThat(metaData.get("2: Indicator"), is(equalTo("Kaufman Adaptive Moving Average (KAMA)")));
    assertThat(metaData.get("3: Last Refreshed"), is(equalTo("2017-12-14 16:00:00")));
    assertThat(metaData.get("4: Interval"), is(equalTo("15min")));
    assertThat(metaData.get("5: Time Period"), is(equalTo("10")));
    assertThat(metaData.get("6: Series Type"), is(equalTo("close")));
    assertThat(metaData.get("7: Time Zone"), is(equalTo("US/Eastern Time")));

    List<IndicatorData> indicatorData = resp.getData();
    assertThat(indicatorData.size(), is(equalTo(3)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 14, 16, 0))));
    assertThat(data.getData(), is(equalTo(84.8376d)));
  }

  @Test
  public void macd() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Moving Average Convergence/Divergence (MACD)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5.1: Fast Period\": 10,\n" +
            "        \"5.2: Slow Period\": 26,\n" +
            "        \"5.3: Signal Period\": 9,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern\"\n" +
            "    },\n" +
            "    \"Technical Analysis: MACD\": {\n" +
            "        \"2017-12-14 16:00\": {\n" +
            "            \"MACD_Hist\": \"0.0197\",\n" +
            "            \"MACD_Signal\": \"-0.1967\",\n" +
            "            \"MACD\": \"-0.1770\"\n" +
            "        },\n" +
            "        \"2017-12-14 15:45\": {\n" +
            "            \"MACD_Hist\": \"0.0225\",\n" +
            "            \"MACD_Signal\": \"-0.2016\",\n" +
            "            \"MACD\": \"-0.1791\"\n" +
            "        },\n" +
            "        \"2017-12-04 11:00\": {\n" +
            "            \"MACD_Hist\": \"-0.2515\",\n" +
            "            \"MACD_Signal\": \"-0.1084\",\n" +
            "            \"MACD\": \"-0.3599\"\n" +
            "        }\n" +
            "    }\n" +
            "}";
    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    MACD resp = technicalIndicators.macd("DUMMY",
            Interval.FIFTEEN_MIN,
            TimePeriod.of(10),
            SeriesType.CLOSE,
            FastPeriod.of(10),
            SlowPeriod.of(26),
            null);

    Map<String, String> metaData = resp.getMetaData();
    assertThat(metaData.get("1: Symbol"), is(equalTo("DUMMY")));
    assertThat(metaData.get("2: Indicator"), is(equalTo("Moving Average Convergence/Divergence (MACD)")));
    assertThat(metaData.get("3: Last Refreshed"), is(equalTo("2017-12-14 16:00:00")));
    assertThat(metaData.get("4: Interval"), is(equalTo("15min")));
    assertThat(metaData.get("5.1: Fast Period"), is(equalTo("10")));
    assertThat(metaData.get("5.2: Slow Period"), is(equalTo("26")));
    assertThat(metaData.get("5.3: Signal Period"), is(equalTo("9")));
    assertThat(metaData.get("6: Series Type"), is(equalTo("close")));
    assertThat(metaData.get("7: Time Zone"), is(equalTo("US/Eastern")));

    List<MACDData> indicatorData = resp.getData();
    assertThat(indicatorData.size(), is(equalTo(3)));

    MACDData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 14, 16, 0))));
    assertThat(data.getHist(), is(equalTo(0.0197d)));
    assertThat(data.getSignal(), is(equalTo(-0.1967d)));
    assertThat(data.getMacd(), is(equalTo(-0.1770d)));
  }

  @Test
  public void macdext() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"MACD with Controllable MA Type (MACDEXT)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5.1: Fast Period\": 12,\n" +
            "        \"5.2: Slow Period\": 26,\n" +
            "        \"5.3: Signal Period\": 9,\n" +
            "        \"5.4: Fast MA Type\": 1,\n" +
            "        \"5.5: Slow MA Type\": 0,\n" +
            "        \"5.6: Signal MA Type\": 0,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: MACDEXT\": {\n" +
            "        \"2017-12-04 11:00\": {\n" +
            "            \"MACD\": \"-0.3448\",\n" +
            "            \"MACD_Hist\": \"-0.2407\",\n" +
            "            \"MACD_Signal\": \"-0.1041\"\n" +
            "        }\n" +
            "    }\n" +
            "}";
    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    MACDEXT resp = technicalIndicators.macdext("DUMMY",
            Interval.FIFTEEN_MIN,
            TimePeriod.of(10),
            SeriesType.CLOSE,
            null,
            null,
            null,
            null,
            null,
            null);

    Map<String, String> metaData = resp.getMetaData();
    assertThat(metaData.get("1: Symbol"), is(equalTo("DUMMY")));
    assertThat(metaData.get("2: Indicator"), is(equalTo("MACD with Controllable MA Type (MACDEXT)")));
    assertThat(metaData.get("3: Last Refreshed"), is(equalTo("2017-12-14 16:00:00")));
    assertThat(metaData.get("4: Interval"), is(equalTo("15min")));
    assertThat(metaData.get("5.1: Fast Period"), is(equalTo("12")));
    assertThat(metaData.get("5.2: Slow Period"), is(equalTo("26")));
    assertThat(metaData.get("5.3: Signal Period"), is(equalTo("9")));
    assertThat(metaData.get("5.4: Fast MA Type"), is(equalTo("1")));
    assertThat(metaData.get("5.5: Slow MA Type"), is(equalTo("0")));
    assertThat(metaData.get("5.6: Signal MA Type"), is(equalTo("0")));
    assertThat(metaData.get("6: Series Type"), is(equalTo("close")));
    assertThat(metaData.get("7: Time Zone"), is(equalTo("US/Eastern Time")));

    List<MACDData> indicatorData = resp.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    MACDData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 4, 11, 0))));
    assertThat(data.getMacd(), is(equalTo(-0.3448d)));
    assertThat(data.getHist(), is(equalTo(-0.2407d)));
    assertThat(data.getSignal(), is(equalTo(-0.1041d)));

  }

  @Test
  public void mama() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"MESA Adaptive Moving Average (MAMA)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5.1: Fast Limit\": 0.02,\n" +
            "        \"5.2: Slow Limit\": 0.01,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: MAMA\": {\n" +
            "        \"2017-12-14 16:00\": {\n" +
            "            \"MAMA\": \"81.2088\",\n" +
            "            \"FAMA\": \"53.0511\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    MAMA resp = technicalIndicators.mama("DUMMY", Interval.FIFTEEN_MIN, TimePeriod.of(10), null, null, null);
    Map<String, String> metaData = resp.getMetaData();
    assertThat(metaData.get("1: Symbol"), is(equalTo("DUMMY")));
    assertThat(metaData.get("2: Indicator"), is(equalTo("MESA Adaptive Moving Average (MAMA)")));
    assertThat(metaData.get("3: Last Refreshed"), is(equalTo("2017-12-14 16:00:00")));
    assertThat(metaData.get("4: Interval"), is(equalTo("15min")));
    assertThat(metaData.get("5.1: Fast Limit"), is(equalTo("0.02")));
    assertThat(metaData.get("5.2: Slow Limit"), is(equalTo("0.01")));
    assertThat(metaData.get("6: Series Type"), is(equalTo("close")));
    assertThat(metaData.get("7: Time Zone"), is(equalTo("US/Eastern Time")));

    List<MAMAData> indicatorData = resp.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    MAMAData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 14, 16, 0))));
    assertThat(data.getMama(), is(equalTo(81.2088d)));
    assertThat(data.getFama(), is(equalTo(53.0511d)));
  }

  @Test
  public void rsi() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Relative Strength Index (RSI)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: RSI\": {\n" +
            "        \"2017-12-01 12:00\": {\n" +
            "            \"RSI\": \"57.2543\"\n" +
            "        }\n" +
            "    }\n" +
            "}";
    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    RSI resp = technicalIndicators.rsi("DUMMY", Interval.FIFTEEN_MIN, TimePeriod.of(10), SeriesType.CLOSE);
    Map<String, String> metaData = resp.getMetaData();
    assertThat(metaData.get("1: Symbol"), is(equalTo("DUMMY")));
    assertThat(metaData.get("2: Indicator"), is(equalTo("Relative Strength Index (RSI)")));
    assertThat(metaData.get("3: Last Refreshed"), is(equalTo("2017-12-14 16:00:00")));
    assertThat(metaData.get("4: Interval"), is(equalTo("15min")));
    assertThat(metaData.get("5: Time Period"), is(equalTo("10")));
    assertThat(metaData.get("6: Series Type"), is(equalTo("close")));
    assertThat(metaData.get("7: Time Zone"), is(equalTo("US/Eastern Time")));

    List<IndicatorData> indicatorData = resp.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 12, 0))));
    assertThat(data.getData(), is(equalTo(57.2543d)));
  }

  @Test
  public void sma() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Simple Moving Average (SMA)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-01 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern\"\n" +
            "    },\n" +
            "    \"Technical Analysis: SMA\": {\n" +
            "        \"2017-12-01 16:00\": {\n" +
            "            \"SMA\": \"84.0203\"\n" +
            "        },\n" +
            "        \"2017-12-01 15:45\": {\n" +
            "            \"SMA\": \"83.9763\"\n" +
            "        },\n" +
            "        \"2017-11-17 11:45\": {\n" +
            "            \"SMA\": \"82.6005\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    SMA resp = technicalIndicators.sma("DUMMY", Interval.FIFTEEN_MIN, TimePeriod.of(10), SeriesType.CLOSE);

    Map<String, String> metaData = resp.getMetaData();
    assertThat(metaData.get("1: Symbol"), is(equalTo("DUMMY")));
    assertThat(metaData.get("2: Indicator"), is(equalTo("Simple Moving Average (SMA)")));
    assertThat(metaData.get("3: Last Refreshed"), is(equalTo("2017-12-01 16:00:00")));
    assertThat(metaData.get("4: Interval"), is(equalTo("15min")));
    assertThat(metaData.get("5: Time Period"), is(equalTo("10")));
    assertThat(metaData.get("6: Series Type"), is(equalTo("close")));
    assertThat(metaData.get("7: Time Zone"), is(equalTo("US/Eastern")));

    List<IndicatorData> indicatorData = resp.getData();
    assertThat(indicatorData.size(), is(equalTo(3)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 16, 0))));
    assertThat(data.getData(), is(equalTo(84.0203d)));
  }

  @Test
  public void stoch() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Stochastic (STOCH)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5.1: FastK Period\": 5,\n" +
            "        \"5.2: SlowK Period\": 3,\n" +
            "        \"5.3: SlowK MA Type\": 1,\n" +
            "        \"5.4: SlowD Period\": 3,\n" +
            "        \"5.5: SlowD MA Type\": 1,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: STOCH\": {\n" +
            "        \"2017-12-01 11:30\": {\n" +
            "            \"SlowK\": \"27.9031\",\n" +
            "            \"SlowD\": \"41.7739\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    STOCH resp = technicalIndicators.stoch("DUMMY", Interval.FIFTEEN_MIN, null, null, null, null, null);

    Map<String, String> metaData = resp.getMetaData();
    assertThat(metaData.get("1: Symbol"), is(equalTo("DUMMY")));
    assertThat(metaData.get("2: Indicator"), is(equalTo("Stochastic (STOCH)")));
    assertThat(metaData.get("3: Last Refreshed"), is(equalTo("2017-12-14 16:00:00")));
    assertThat(metaData.get("4: Interval"), is(equalTo("15min")));
    assertThat(metaData.get("5.1: FastK Period"), is(equalTo("5")));
    assertThat(metaData.get("5.2: SlowK Period"), is(equalTo("3")));
    assertThat(metaData.get("5.3: SlowK MA Type"), is(equalTo("1")));
    assertThat(metaData.get("5.4: SlowD Period"), is(equalTo("3")));
    assertThat(metaData.get("5.5: SlowD MA Type"), is(equalTo("1")));
    assertThat(metaData.get("6: Time Zone"), is(equalTo("US/Eastern Time")));

    List<STOCHDataSlow> indicatorData = resp.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    STOCHDataSlow data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 11, 30))));
    assertThat(data.getSlowK(), is(equalTo(27.9031d)));
    assertThat(data.getSlowD(), is(equalTo(41.7739d)));
  }

  @Test
  public void stochf() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Stochastic Fast (STOCHF)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5.1: FastK Period\": 6,\n" +
            "        \"5.2: FastD Period\": 3,\n" +
            "        \"5.3: FastD MA Type\": 1,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: STOCHF\": {\n" +
            "        \"2017-12-01 11:15\": {\n" +
            "            \"FastK\": \"33.3333\",\n" +
            "            \"FastD\": \"51.8195\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    STOCHF resp = technicalIndicators.stochf("DUMMY", Interval.FIFTEEN_MIN, null, null, null);

    Map<String, String> metaData = resp.getMetaData();
    assertThat(metaData.get("1: Symbol"), is(equalTo("DUMMY")));
    assertThat(metaData.get("2: Indicator"), is(equalTo("Stochastic Fast (STOCHF)")));
    assertThat(metaData.get("3: Last Refreshed"), is(equalTo("2017-12-14 16:00:00")));
    assertThat(metaData.get("4: Interval"), is(equalTo("15min")));
    assertThat(metaData.get("5.1: FastK Period"), is(equalTo("6")));
    assertThat(metaData.get("5.2: FastD Period"), is(equalTo("3")));
    assertThat(metaData.get("5.3: FastD MA Type"), is(equalTo("1")));
    assertThat(metaData.get("6: Time Zone"), is(equalTo("US/Eastern Time")));

    List<STOCHDataFast> indicatorData = resp.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    STOCHDataFast data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 11, 15))));
    assertThat(data.getFastK(), is(equalTo(33.3333d)));
    assertThat(data.getFastD(), is(equalTo(51.8195d)));
  }

  @Test
  public void stochrsi() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Stochastic Relative Strength Index (STOCHRSI)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6.1: FastK Period\": 6,\n" +
            "        \"6.2: FastD Period\": 3,\n" +
            "        \"6.3: FastD MA Type\": 1,\n" +
            "        \"7: Series Type\": \"close\",\n" +
            "        \"8: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: STOCHRSI\": {\n" +
            "        \"2017-12-01 13:45\": {\n" +
            "            \"FastK\": \"75.1311\",\n" +
            "            \"FastD\": \"81.4649\"\n" +
            "        }\n" +
            "    }\n" +
            "}";
    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    STOCHRSI resp = technicalIndicators.stochrsi("DUMMY",
            Interval.FIFTEEN_MIN,
            TimePeriod.of(10),
            SeriesType.CLOSE,
            null,
            null,
            null);

    List<STOCHDataFast> indicatorData = resp.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    STOCHDataFast data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 13, 45))));
    assertThat(data.getFastK(), is(equalTo(75.1311d)));
    assertThat(data.getFastD(), is(equalTo(81.4649d)));
  }

  @Test
  public void t3() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Triple Exponential Moving Average (T3)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Volume Factor (vFactor)\": 0.7,\n" +
            "        \"7: Series Type\": \"close\",\n" +
            "        \"8: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: T3\": {\n" +
            "        \"2017-12-05 09:30\": {\n" +
            "            \"T3\": \"81.2514\"\n" +
            "        }\n" +
            "    }\n" +
            "}";
    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    T3 resp = technicalIndicators.t3("DUMMY", Interval.FIFTEEN_MIN, TimePeriod.of(10), SeriesType.CLOSE);

    List<IndicatorData> indicatorData = resp.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 5, 9, 30))));
    assertThat(data.getData(), is(equalTo(81.2514d)));
  }

  @Test
  public void tema() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Triple Exponential Moving Average (TEMA)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-01 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern\"\n" +
            "    },\n" +
            "    \"Technical Analysis: TEMA\": {\n" +
            "        \"2017-12-01 16:00\": {\n" +
            "            \"TEMA\": \"84.0203\"\n" +
            "        },\n" +
            "        \"2017-12-01 15:45\": {\n" +
            "            \"TEMA\": \"83.9763\"\n" +
            "        },\n" +
            "        \"2017-11-17 11:45\": {\n" +
            "            \"TEMA\": \"82.6005\"\n" +
            "        }\n" +
            "    }\n" +
            "}";
    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    TEMA response = technicalIndicators.tema("DUMMY", Interval.FIFTEEN_MIN, TimePeriod.of(10), SeriesType.CLOSE);

    Map<String, String> metaData = response.getMetaData();
    assertThat(metaData.get("1: Symbol"), is(equalTo("DUMMY")));
    assertThat(metaData.get("2: Indicator"), is(equalTo("Triple Exponential Moving Average (TEMA)")));
    assertThat(metaData.get("3: Last Refreshed"), is(equalTo("2017-12-01 16:00:00")));
    assertThat(metaData.get("4: Interval"), is(equalTo("15min")));
    assertThat(metaData.get("5: Time Period"), is(equalTo("10")));
    assertThat(metaData.get("6: Series Type"), is(equalTo("close")));
    assertThat(metaData.get("7: Time Zone"), is(equalTo("US/Eastern")));

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(3)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 16, 0))));
    assertThat(data.getData(), is(equalTo(84.0203d)));
  }

  @Test
  public void trima() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Triangular Exponential Moving Average (TRIMA)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: TRIMA\": {\n" +
            "        \"2017-12-01 11:45\": {\n" +
            "            \"TRIMA\": \"84.2648\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    TRIMA resp = technicalIndicators.trima("DUMMY", Interval.FIFTEEN_MIN, TimePeriod.of(10), SeriesType.CLOSE);

    List<IndicatorData> indicatorData = resp.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 11, 45))));
    assertThat(data.getData(), is(equalTo(84.2648d)));
  }

  @Test
  public void willr() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Williams' %R (WILLR)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: WILLR\": {\n" +
            "        \"2017-12-01 11:45\": {\n" +
            "            \"WILLR\": \"-48.2075\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    WILLR resp = technicalIndicators.willr("DUMMY", Interval.FIFTEEN_MIN, TimePeriod.of(10));

    List<IndicatorData> indicatorData = resp.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 11, 45))));
    assertThat(data.getData(), is(equalTo(-48.2075d)));
  }

  @Test
  public void wma() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Weighted Moving Average (WMA)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-01 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern\"\n" +
            "    },\n" +
            "    \"Technical Analysis: WMA\": {\n" +
            "        \"2017-12-01 16:00\": {\n" +
            "            \"WMA\": \"84.0203\"\n" +
            "        },\n" +
            "        \"2017-12-01 15:45\": {\n" +
            "            \"WMA\": \"83.9763\"\n" +
            "        },\n" +
            "        \"2017-11-17 11:45\": {\n" +
            "            \"WMA\": \"82.6005\"\n" +
            "        }\n" +
            "    }\n" +
            "}";
    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    WMA response = technicalIndicators.wma("DUMMY", Interval.FIFTEEN_MIN, TimePeriod.of(10), SeriesType.CLOSE);

    Map<String, String> metaData = response.getMetaData();
    assertThat(metaData.get("1: Symbol"), is(equalTo("DUMMY")));
    assertThat(metaData.get("2: Indicator"), is(equalTo("Weighted Moving Average (WMA)")));
    assertThat(metaData.get("3: Last Refreshed"), is(equalTo("2017-12-01 16:00:00")));
    assertThat(metaData.get("4: Interval"), is(equalTo("15min")));
    assertThat(metaData.get("5: Time Period"), is(equalTo("10")));
    assertThat(metaData.get("6: Series Type"), is(equalTo("close")));
    assertThat(metaData.get("7: Time Zone"), is(equalTo("US/Eastern")));

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(3)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 16, 0))));
    assertThat(data.getData(), is(equalTo(84.0203d)));
  }

  @Test
  public void adx() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Average Directional Movement Index (ADX)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: ADX\": {\n" +
            "        \"2017-12-01 14:15\": {\n" +
            "            \"ADX\": \"13.6308\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    ADX response = technicalIndicators.adx("DUMMY", Interval.FIFTEEN_MIN, TimePeriod.of(10));

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 14, 15))));
    assertThat(data.getData(), is(equalTo(13.6308d)));
  }

  @Test
  public void adxr() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Average Directional Movement Index Rating (ADXR)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: ADXR\": {\n" +
            "        \"2017-12-01 14:15\": {\n" +
            "            \"ADXR\": \"13.6308\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    ADXR response = technicalIndicators.adxr("DUMMY", Interval.FIFTEEN_MIN, TimePeriod.of(10));

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 14, 15))));
    assertThat(data.getData(), is(equalTo(13.6308d)));
  }

  @Test
  public void apo() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Absolute Price Oscillator (APO)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5.1: Fast Period\": 10,\n" +
            "        \"5.2: Slow Period\": 26,\n" +
            "        \"5.3: MA Type\": 1,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: APO\": {\n" +
            "        \"2017-12-01 15:45\": {\n" +
            "            \"APO\": \"0.0216\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    APO response = technicalIndicators.apo("DUMMY", Interval.FIFTEEN_MIN, SeriesType.CLOSE, null, null, null);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 15, 45))));
    assertThat(data.getData(), is(equalTo(0.0216d)));
  }

  @Test
  public void ppo() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Percentage Price Oscillator (PPO)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5.1: Fast Period\": 10,\n" +
            "        \"5.2: Slow Period\": 26,\n" +
            "        \"5.3: MA Type\": 1,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: PPO\": {\n" +
            "        \"2017-12-01 15:45\": {\n" +
            "            \"PPO\": \"0.0257\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    PPO response = technicalIndicators.ppo("DUMMY", Interval.FIFTEEN_MIN, SeriesType.CLOSE, null, null, null);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 15, 45))));
    assertThat(data.getData(), is(equalTo(0.0257d)));
  }

  @Test
  public void mom() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Momentum (MOM)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: MOM\": {\n" +
            "        \"2017-12-01 12:00\": {\n" +
            "            \"MOM\": \"0.4000\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    MOM response = technicalIndicators.mom("DUMMY", Interval.FIFTEEN_MIN, TimePeriod.of(10), SeriesType.CLOSE);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 12, 0))));
    assertThat(data.getData(), is(equalTo(0.4000d)));
  }

  @Test
  public void bop() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Balance Of Power (BOP)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"15min\",\n" +
            "        \"5: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: BOP\": {\n" +
            "        \"2017-12-01 09:30\": {\n" +
            "            \"BOP\": \"-0.1250\"\n" +
            "        }\n" +
            "    }\n" +
            "}";
    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    BOP response = technicalIndicators.bop("DUMMY", Interval.FIFTEEN_MIN);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 9, 30))));
    assertThat(data.getData(), is(equalTo(-0.1250d)));
  }

  @Test
  public void cci() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Commodity Channel Index (CCI)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"daily\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: CCI\": {\n" +
            "        \"2000-01-14\": {\n" +
            "            \"CCI\": \"-11.0151\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    CCI response = technicalIndicators.cci("DUMMY", Interval.DAILY, TimePeriod.of(10));

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 1, 14, 0, 0))));
    assertThat(data.getData(), is(equalTo(-11.0151d)));
  }

  @Test
  public void cmo() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Chande Momentum Oscillator (CMO)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"weekly\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: CMO\": {\n" +
            "        \"2000-03-24\": {\n" +
            "            \"CMO\": \"-0.9150\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    CMO response = technicalIndicators.cmo("DUMMY", Interval.DAILY, TimePeriod.of(10), SeriesType.CLOSE);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 3, 24, 0, 0))));
    assertThat(data.getData(), is(equalTo(-0.9150d)));
  }

  @Test
  public void roc() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Rate of change : ((price/prevPrice)-1)*100\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"weekly\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: ROC\": {\n" +
            "        \"2000-03-24\": {\n" +
            "            \"ROC\": \"-0.4989\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    ROC response = technicalIndicators.roc("DUMMY", Interval.WEEKLY, TimePeriod.of(10), SeriesType.CLOSE);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 3, 24, 0, 0))));
    assertThat(data.getData(), is(equalTo(-0.4989d)));
  }

  @Test
  public void rocr() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Rate of change ratio: (price/prevPrice)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"daily\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: ROCR\": {\n" +
            "        \"2000-01-18\": {\n" +
            "            \"ROCR\": \"0.9893\"\n" +
            "        }\n" +
            "    }\n" +
            "}";
    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    ROCR response = technicalIndicators.rocr("DUMMY", Interval.DAILY, TimePeriod.of(10), SeriesType.CLOSE);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 1, 18, 0, 0))));
    assertThat(data.getData(), is(equalTo(0.9893d)));
  }

  @Test
  public void aroon() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Aroon (AROON)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"daily\",\n" +
            "        \"5: Time Period\": 14,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: AROON\": {\n" +
            "        \"2000-01-24\": {\n" +
            "            \"Aroon Up\": \"0.0000\",\n" +
            "            \"Aroon Down\": \"100.0000\"\n" +
            "        }\n" +
            "    }\n" +
            "}";
    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    AROON response = technicalIndicators.aroon("DUMMY", Interval.DAILY, TimePeriod.of(14));

    List<AROONData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    AROONData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 1, 24, 0, 0))));
    assertThat(data.getAroonUp(), is(equalTo(0.0000d)));
    assertThat(data.getAroonDown(), is(equalTo(100.0000d)));
  }

  @Test
  public void aroonosc() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Aroon Oscillator (AROONOSC)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"30min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: AROONOSC\": {\n" +
            "        \"2017-12-01 14:30\": {\n" +
            "            \"AROONOSC\": \"-30.0000\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    AROONOSC response = technicalIndicators.aroonosc("DUMMY", Interval.THIRTY_MIN, TimePeriod.of(10));

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 14, 30))));
    assertThat(data.getData(), is(equalTo(-30.0000d)));
  }

  @Test
  public void mfi() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Money Flow Index (MFI)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"weekly\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: MFI\": {\n" +
            "        \"2000-03-24\": {\n" +
            "            \"MFI\": \"47.5642\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    MFI response = technicalIndicators.mfi("DUMMY", Interval.WEEKLY, TimePeriod.of(10));

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 3, 24, 0, 0))));
    assertThat(data.getData(), is(equalTo(47.5642d)));
  }

  @Test
  public void trix() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"1-day Rate-Of-Change (ROC) of a Triple Smooth EMA (TRIX)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"daily\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: TRIX\": {\n" +
            "        \"2000-02-11\": {\n" +
            "            \"TRIX\": \"-0.1527\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    TRIX response = technicalIndicators.trix("DUMMY", Interval.DAILY, TimePeriod.of(10), SeriesType.CLOSE);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 2, 11, 0, 0))));
    assertThat(data.getData(), is(equalTo(-0.1527d)));
  }

  @Test
  public void ultosc() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Ultimate Oscillator (ULTOSC)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"30min\",\n" +
            "        \"5.1: Time Period 1\": 8,\n" +
            "        \"5.2: Time Period 2\": 14,\n" +
            "        \"5.3: Time Period 3\": 28,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: ULTOSC\": {\n" +
            "        \"2017-12-05 09:30\": {\n" +
            "            \"ULTOSC\": \"44.5000\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    ULTOSC response = technicalIndicators.ultosc("DUMMY", Interval.THIRTY_MIN, null, null, null);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 5, 9, 30))));
    assertThat(data.getData(), is(equalTo(44.5000d)));
  }

  @Test
  public void dx() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Directional Movement Index (DX)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"30min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: DX\": {\n" +
            "        \"2017-12-01 14:30\": {\n" +
            "            \"DX\": \"1.5590\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    DX response = technicalIndicators.dx("DUMMY", Interval.THIRTY_MIN, TimePeriod.of(10));

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 14, 30))));
    assertThat(data.getData(), is(equalTo(1.5590d)));
  }

  @Test
  public void minus_di() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Minus Directional Indicator (MINUS_DI)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"weekly\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: MINUS_DI\": {\n" +
            "        \"2000-03-24\": {\n" +
            "            \"MINUS_DI\": \"17.5170\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    MINUS_DI response = technicalIndicators.minus_di("DUMMY", Interval.WEEKLY, TimePeriod.of(10));

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 3, 24, 0, 0))));
    assertThat(data.getData(), is(equalTo(17.5170d)));
  }

  @Test
  public void plus_di() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Plus Directional Indicator (PLUS_DI)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"30min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: PLUS_DI\": {\n" +
            "        \"2017-12-01 14:30\": {\n" +
            "            \"PLUS_DI\": \"18.6114\"\n" +
            "        }\n" +
            "    }\n" +
            "}";
    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    PLUS_DI response = technicalIndicators.plus_di("DUMMY", Interval.THIRTY_MIN, TimePeriod.of(10));

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 14, 30))));
    assertThat(data.getData(), is(equalTo(18.6114d)));
  }

  @Test
  public void minus_dm() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Minus Directional Movement (MINUS_DM)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"daily\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: MINUS_DM\": {\n" +
            "        \"2000-01-14\": {\n" +
            "            \"MINUS_DM\": \"14.8100\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    MINUS_DM response = technicalIndicators.minus_dm("DUMMY", Interval.DAILY, TimePeriod.of(10));

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 1, 14, 0, 0))));
    assertThat(data.getData(), is(equalTo(14.8100d)));
  }

  @Test
  public void plus_dm() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Plus Directional Movement (PLUS_DM)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"daily\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: PLUS_DM\": {\n" +
            "        \"2000-01-14\": {\n" +
            "            \"PLUS_DM\": \"6.7600\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    PLUS_DM response = technicalIndicators.plus_dm("DUMMY", Interval.DAILY, TimePeriod.of(10));

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 1, 14, 0, 0))));
    assertThat(data.getData(), is(equalTo(6.7600d)));
  }

  @Test
  public void bbands() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Bollinger Bands (BBANDS)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"weekly\",\n" +
            "        \"5: Time Period\": 5,\n" +
            "        \"6.1: Deviation multiplier for upper band\": 3,\n" +
            "        \"6.2: Deviation multiplier for lower band\": 3,\n" +
            "        \"6.3: MA Type\": 0,\n" +
            "        \"7: Series Type\": \"close\",\n" +
            "        \"8: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: BBANDS\": {\n" +
            "        \"2000-02-11\": {\n" +
            "            \"Real Lower Band\": \"89.2034\",\n" +
            "            \"Real Upper Band\": \"119.0966\",\n" +
            "            \"Real Middle Band\": \"104.1500\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    BBANDS response = technicalIndicators.bbands("DUMMY",
            Interval.WEEKLY,
            TimePeriod.of(5),
            SeriesType.CLOSE,
            null,
            null,
            null);

    List<BBANDSData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    BBANDSData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 2, 11, 0, 0))));
    assertThat(data.getLowerBand(), is(equalTo(89.2034d)));
    assertThat(data.getUpperBand(), is(equalTo(119.0966d)));
    assertThat(data.getMidBand(), is(equalTo(104.1500d)));
  }

  @Test
  public void midpoint() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"MidPoint over period (MIDPOINT)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"daily\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Series Type\": \"close\",\n" +
            "        \"7: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: MIDPOINT\": {\n" +
            "        \"2000-01-14\": {\n" +
            "            \"MIDPOINT\": \"111.1850\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    MIDPOINT response = technicalIndicators.midpoint("DUMMY", Interval.DAILY, TimePeriod.of(10), SeriesType.CLOSE);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 1, 14, 0, 0))));
    assertThat(data.getData(), is(equalTo(111.1850d)));
  }

  @Test
  public void midprice() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Midpoint Price over period (MIDPRICE)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"30min\",\n" +
            "        \"5: Time Period\": 10,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: MIDPRICE\": {\n" +
            "        \"2017-12-01 14:00\": {\n" +
            "            \"MIDPRICE\": \"84.0150\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    MIDPRICE response = technicalIndicators.midprice("DUMMY", Interval.THIRTY_MIN, TimePeriod.of(10));

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 14, 0))));
    assertThat(data.getData(), is(equalTo(84.0150d)));
  }

  @Test
  public void sar() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Parabolic SAR (SAR)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"weekly\",\n" +
            "        \"5.1: Acceleration\": 0.05,\n" +
            "        \"5.2: Maximum\": 0.25,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: SAR\": {\n" +
            "        \"2000-01-21\": {\n" +
            "            \"SAR\": \"101.5000\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    SAR response = technicalIndicators.sar("DUMMY", Interval.WEEKLY, null, null);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 1, 21, 0, 0))));
    assertThat(data.getData(), is(equalTo(101.5000d)));
  }

  @Test
  public void trange() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"True Range (TRANGE)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"daily\",\n" +
            "        \"5: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: TRANGE\": {\n" +
            "        \"2000-01-04\": {\n" +
            "            \"TRANGE\": \"4.8700\"\n" +
            "        }\n" +
            "    }\n" +
            "}";
    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    TRANGE response = technicalIndicators.trange("DUMMY", Interval.DAILY);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 1, 4, 0, 0))));
    assertThat(data.getData(), is(equalTo(4.8700d)));
  }

  @Test
  public void atr() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Average True Range (ATR)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"30min\",\n" +
            "        \"5: Time Period\": 14,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: ATR\": {\n" +
            "        \"2017-12-04 09:30\": {\n" +
            "            \"ATR\": \"0.4977\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    ATR response = technicalIndicators.atr("DUMMY", Interval.THIRTY_MIN, TimePeriod.of(14));

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 4, 9, 30))));
    assertThat(data.getData(), is(equalTo(0.4977d)));
  }

  @Test
  public void natr() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Normalized Average True Range (NATR)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"weekly\",\n" +
            "        \"5: Time Period\": 14,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: NATR\": {\n" +
            "        \"2000-04-20\": {\n" +
            "            \"NATR\": \"14.8359\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    NATR response = technicalIndicators.natr("DUMMY", Interval.WEEKLY, TimePeriod.of(14));

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 4, 20, 0, 0))));
    assertThat(data.getData(), is(equalTo(14.8359d)));
  }

  @Test
  public void ad() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Chaikin A/D Line\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"daily\",\n" +
            "        \"5: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: Chaikin A/D\": {\n" +
            "        \"2000-01-03\": {\n" +
            "            \"Chaikin A/D\": \"10050679.7583\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    AD response = technicalIndicators.ad("DUMMY", Interval.DAILY);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 1, 3, 0, 0))));
    assertThat(data.getData(), is(equalTo(10050679.7583d)));
  }

  @Test
  public void adosc() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Chaikin A/D Oscillator (ADOSC)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"30min\",\n" +
            "        \"5.1: FastK Period\": 5,\n" +
            "        \"5.2: SlowK Period\": 10,\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: ADOSC\": {\n" +
            "        \"2017-12-01 14:00\": {\n" +
            "            \"ADOSC\": \"-126632.7402\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    ADOSC response = technicalIndicators.adosc("DUMMY", Interval.THIRTY_MIN, null, null);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 1, 14, 0))));
    assertThat(data.getData(), is(equalTo(-126632.7402d)));
  }

  @Test
  public void obv() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"On Balance Volume (OBV)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"weekly\",\n" +
            "        \"5: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: OBV\": {\n" +
            "        \"2000-01-14\": {\n" +
            "            \"OBV\": \"157400000.0000\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    OBV response = technicalIndicators.obv("DUMMY", Interval.WEEKLY);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 1, 14, 0, 0))));
    assertThat(data.getData(), is(equalTo(157400000.0000d)));
  }

  @Test
  public void ht_trendline() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Hilbert Transform - Instantaneous Trendline (HT_TRENDLINE)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"daily\",\n" +
            "        \"5: Series Type\": \"close\",\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: HT_TRENDLINE\": {\n" +
            "        \"2000-04-03\": {\n" +
            "            \"HT_TRENDLINE\": \"99.7075\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    HT_TRENDLINE response = technicalIndicators.ht_trendline("DUMMY", Interval.DAILY, SeriesType.CLOSE);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 4, 3, 0, 0))));
    assertThat(data.getData(), is(equalTo(99.7075d)));
  }

  @Test
  public void ht_sine() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Hilbert Transform - SineWave (HT_SINE)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"30min\",\n" +
            "        \"5: Series Type\": \"close\",\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: HT_SINE\": {\n" +
            "        \"2017-12-08 09:30\": {\n" +
            "            \"LEAD SINE\": \"-0.8497\",\n" +
            "            \"SINE\": \"-0.9737\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    HT_SINE response = technicalIndicators.ht_sine("DUMMY", Interval.THIRTY_MIN, SeriesType.CLOSE);

    List<HT_SINEData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    HT_SINEData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 8, 9, 30))));
    assertThat(data.getLeadSine(), is(equalTo(-0.8497d)));
    assertThat(data.getSine(), is(equalTo(-0.9737d)));
  }

  @Test
  public void ht_trendmode() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Hilbert Transform - Trend vs Cycle Mode (HT_TRENDMODE)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"weekly\",\n" +
            "        \"5: Series Type\": \"close\",\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: HT_TRENDMODE\": {\n" +
            "        \"2000-01-14\": {\n" +
            "            \"TRENDMODE\": \"0\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    HT_TRENDMODE response = technicalIndicators.ht_trendmode("DUMMY", Interval.WEEKLY, SeriesType.CLOSE);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 1, 14, 0, 0))));
    assertThat(data.getData(), is(equalTo(0d)));
  }

  @Test
  public void ht_dcperiod() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Hilbert Transform - Dominant Cycle Period (HT_DCPERIOD)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"daily\",\n" +
            "        \"5: Series Type\": \"close\",\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: HT_DCPERIOD\": {\n" +
            "        \"2000-02-17\": {\n" +
            "            \"DCPERIOD\": \"15.6467\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    HT_DCPERIOD response = technicalIndicators.ht_dcperiod("DUMMY", Interval.DAILY, SeriesType.CLOSE);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 2, 17, 0, 0))));
    assertThat(data.getData(), is(equalTo(15.6467d)));
  }

  @Test
  public void ht_dcphase() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Hilbert Transform - Dominant Cycle Phase (HT_DCPHASE)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14 16:00:00\",\n" +
            "        \"4: Interval\": \"30min\",\n" +
            "        \"5: Series Type\": \"close\",\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: HT_DCPHASE\": {\n" +
            "        \"2017-12-08 09:30\": {\n" +
            "            \"HT_DCPHASE\": \"256.8257\"\n" +
            "        }\n" +
            "    }\n" +
            "}";

    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    HT_DCPHASE response = technicalIndicators.ht_dcphase("DUMMY", Interval.THIRTY_MIN, SeriesType.CLOSE);

    List<IndicatorData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    IndicatorData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2017, 12, 8, 9, 30))));
    assertThat(data.getData(), is(equalTo(256.8257d)));
  }

  @Test
  public void ht_phasor() {
    String json = "" +
            "{\n" +
            "    \"Meta Data\": {\n" +
            "        \"1: Symbol\": \"DUMMY\",\n" +
            "        \"2: Indicator\": \"Hilbert Transform - Phasor Components (HT_PHASOR)\",\n" +
            "        \"3: Last Refreshed\": \"2017-12-14\",\n" +
            "        \"4: Interval\": \"weekly\",\n" +
            "        \"5: Series Type\": \"close\",\n" +
            "        \"6: Time Zone\": \"US/Eastern Time\"\n" +
            "    },\n" +
            "    \"Technical Analysis: HT_PHASOR\": {\n" +
            "        \"2000-08-25\": {\n" +
            "            \"PHASE\": \"-2.5430\",\n" +
            "            \"QUADRATURE\": \"-10.8250\"\n" +
            "        }\n" +
            "    }\n" +
            "}";
    technicalIndicators = new TechnicalIndicators(apiParameters -> json);
    HT_PHASOR response = technicalIndicators.ht_phasor("DUMMY", Interval.WEEKLY, SeriesType.CLOSE);

    List<HT_PHASORData> indicatorData = response.getData();
    assertThat(indicatorData.size(), is(equalTo(1)));

    HT_PHASORData data = indicatorData.get(0);
    assertThat(data.getDateTime(), is(equalTo(LocalDateTime.of(2000, 8, 25, 0, 0))));
    assertThat(data.getPhase(), is(equalTo(-2.5430d)));
    assertThat(data.getQuadrature(), is(equalTo(-10.8250d)));
  }
}
